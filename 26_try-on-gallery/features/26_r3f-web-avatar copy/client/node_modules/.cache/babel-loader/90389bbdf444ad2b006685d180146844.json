{"ast":null,"code":"class LoadingManager {\n  constructor(onLoad, onProgress, onError) {\n    const scope = this;\n    let isLoading = false;\n    let itemsLoaded = 0;\n    let itemsTotal = 0;\n    let urlModifier = undefined;\n    const handlers = []; // Refer to #5689 for the reason why we don't set .onStart\n    // in the constructor\n\n    this.onStart = undefined;\n    this.onLoad = onLoad;\n    this.onProgress = onProgress;\n    this.onError = onError;\n\n    this.itemStart = function (url) {\n      itemsTotal++;\n\n      if (isLoading === false) {\n        if (scope.onStart !== undefined) {\n          scope.onStart(url, itemsLoaded, itemsTotal);\n        }\n      }\n\n      isLoading = true;\n    };\n\n    this.itemEnd = function (url) {\n      itemsLoaded++;\n\n      if (scope.onProgress !== undefined) {\n        scope.onProgress(url, itemsLoaded, itemsTotal);\n      }\n\n      if (itemsLoaded === itemsTotal) {\n        isLoading = false;\n\n        if (scope.onLoad !== undefined) {\n          scope.onLoad();\n        }\n      }\n    };\n\n    this.itemError = function (url) {\n      if (scope.onError !== undefined) {\n        scope.onError(url);\n      }\n    };\n\n    this.resolveURL = function (url) {\n      if (urlModifier) {\n        return urlModifier(url);\n      }\n\n      return url;\n    };\n\n    this.setURLModifier = function (transform) {\n      urlModifier = transform;\n      return this;\n    };\n\n    this.addHandler = function (regex, loader) {\n      handlers.push(regex, loader);\n      return this;\n    };\n\n    this.removeHandler = function (regex) {\n      const index = handlers.indexOf(regex);\n\n      if (index !== -1) {\n        handlers.splice(index, 2);\n      }\n\n      return this;\n    };\n\n    this.getHandler = function (file) {\n      for (let i = 0, l = handlers.length; i < l; i += 2) {\n        const regex = handlers[i];\n        const loader = handlers[i + 1];\n        if (regex.global) regex.lastIndex = 0; // see #17920\n\n        if (regex.test(file)) {\n          return loader;\n        }\n      }\n\n      return null;\n    };\n  }\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\nexport { DefaultLoadingManager, LoadingManager };","map":{"version":3,"sources":["C:/Users/pc/Documents/Repositories/3d-buy/client/node_modules/three/src/loaders/LoadingManager.js"],"names":["LoadingManager","constructor","onLoad","onProgress","onError","scope","isLoading","itemsLoaded","itemsTotal","urlModifier","undefined","handlers","onStart","itemStart","url","itemEnd","itemError","resolveURL","setURLModifier","transform","addHandler","regex","loader","push","removeHandler","index","indexOf","splice","getHandler","file","i","l","length","global","lastIndex","test","DefaultLoadingManager"],"mappings":"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","sourcesContent":["class LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nexport { DefaultLoadingManager, LoadingManager };\n"]},"metadata":{},"sourceType":"module"}